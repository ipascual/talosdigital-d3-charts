<!DOCTYPE html>
<html>
  <head>
    <title>D3</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet" media="screen">
    <link href="css/nv.d3.css" rel="stylesheet" media="screen">
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<script src="js/nv.d3.min.js"></script>
	
	<style>
	div.bar {
	    display: inline-block;
	    width: 20px;
	    height: 75px;   /* We'll override this later */
	    background-color: teal;
	    margin-right: 5px;
	}
	svg{
	}
	</style>
  </head>
  <body>
  	<br /><br />
  	<div class="container">
  		<div class="row">
  			<div class="col-lg-12">
		  		<div class="panel panel-default">
					<div class="panel-heading">
						<p>D3 exercise to display a bar chart with line chart</p>
						<div class="clearfix"></div>
					</div>
					<div class="panel-body">
						<div id="chart">
							<svg>
							</svg>
						</div>
					</div>
		  		</div>	
  			</div>
  		</div>
  	</div>
	<script type="text/javascript">
	var data = [
		  {
		    key: "Base Rental",
		    color: "#00B2C0",
		    values:
		      [      
		        { x : "2013", y : 75000 },
		        { x : "2014", y : 81750 },
		        { x : "2015", y : 89107 },
		        { x : "2016", y : 97127 },
		        { x : "2017", y : 105868 },
		        { x : "2018", y : 115868 },
		        { x : "2019", y : 125868 },
		        { x : "2020", y : 135868 },
		        { x : "2021", y : 145868 },
		        { x : "2022", y : 155868 },
		        { x : "2023", y : 165868 }
		      ]
		  },
		  {
		    key: "Lease Outgoings",
		    color: "blue",
		    values:
		      [      
		        { x : "2013", y : 5000 },
		        { x : "2014", y : 1750 },
		        { x : "2015", y : 9107 },
		        { x : "2016", y : 7127 },
		        { x : "2017", y : 15868 },
		        { x : "2018", y : 25868 },
		        { x : "2019", y : 65868 },
		        { x : "2020", y : 25868 },
		        { x : "2021", y : 35868 },
		        { x : "2022", y : 55868 },
		        { x : "2023", y : 45868 }
		      ]
		  },
		  {
		    key: "Net Occupancy Cost",
		    color: "red",
		    values:
		      [      
		        { x : "2013", y : 75000 + 1000 },
		        { x : "2014", y : 81750 + 1000 },
		        { x : "2015", y : 89107 + 1000 },
		        { x : "2016", y : 97127 + 1000 },
		        { x : "2017", y : 105868 + 1000 },
		        { x : "2018", y : 25868 + 1000 },
		        { x : "2019", y : 125868 + 1000 },
		        { x : "2020", y : 135868 + 1000 },
		        { x : "2021", y : 145868 + 1000 },
		        { x : "2022", y : 155868 + 1000 },
		        { x : "2023", y : 165868 + 1000 }
		      ]
		  }
		];
	
	data[0].type = "bar"
	data[0].yAxis = 1
	data[1].type = "bar"
	data[1].yAxis = 1
	data[2].type = "line"
	data[2].yAxis = 1

	
	
	nv.addGraph(function() {
	    var chart = nv.models.multiChart()
	        .margin({top: 30, right: 60, bottom: 50, left: 70})
	        .color(d3.scale.category10().range());
	
	    chart.xAxis
	        .tickFormat(d3.format('f'));
	
	    chart.yAxis1
	        .tickFormat(d3.format(',f'));
	
	    chart.yAxis2
	        .tickFormat(d3.format(',f'));
		chart.stacked();
	
	    d3.select('#chart svg')
	      .datum(data)
	      .transition().duration(500).call(chart);
	
	    return chart;
	});
		  
		  
	   nv.utils.windowResize(function() { d3.select('#chart svg').call(chart) });
	</script>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="//code.jquery.com/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.js"></script>
  </body>
</html>